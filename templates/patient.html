<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href="../static/patient.css">
    <script src='main.js'></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    div.appointment{
      display:none;
    }
    h1.appointment{
      color:red;
      font-size:7vmin;
    }
    td{
     height:4vh;
     color:white;
    }
    select.appointment{
      width:15vw;
    }
    


  </style>
  <script>
      function change() {
          const department = document.getElementById("department").value;
          const doctorSelect = document.getElementById("doctor");
      
          if (department === "Ent") {
            doctorSelect.innerHTML = "<select id='doctor' name='doctor'><option value='rajesh'>Dr Rajesh</option><option value='deepak'>Dr Deepak</option></select>";
          } else if(department==="opd") {
            doctorSelect.innerHTML = "<select id='doctor' name='doctor'><option value='anop>Dr anop</option><option value='sheetal>Dr sheetal</option></select>"; // Clear the options if department is not "Ent"
          }
          else if(department==="onco"){
              doctorSelect.innerHTML = "<select id='doctor' name='doctor'><option value='dheeraj'>Dr dheeraj</option><option value='akshay'>Dr sheetal</option></select>";
          }
          else if(department==="none"){
            doctorSelect.innerHTML = "<select id='doctor' name='doctor'><option>Select department*</option></select>";
          }
        }

        function appointment() {
          document.getElementById("appointment").style.display = "block";
          document.getElementById("form").style.display = "none";
         
        }
        
        function records() {
          document.getElementById("appointment").style.display = "none";
          document.getElementById("form").style.display = "block";
          
        }
        
    


        
    </script>
</head>
<body><center> <div class="cont">
    <center><h1 class="header">WELCOME {{f_name}}    {{l_name}}</h1>  <br>
      <br>
      <h2>ID : {{id}}</h2>
      <button onclick="appointment()" id="appointed">Book appointment</button><button onclick="records()" id="records">Records</button>
        <div class="form" id="form">
            <form action="http://127.0.0.1:5000/patient/{{f_name}}+{{l_name}}" method="post" class="form">
                 <h2 class="header">Records </h2>
                From:<select name="dd1" id="dd1" plaecholder="dd">
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                 
                  </select>
                : <select name="mm1" id="mm1">
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                  </select> : 
                  <select name="yyyy1" id="yyyy1">
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                    <option value="2017">2017</option>
                  </select>
                <!--to till date-->
                To: <select name="dd2" id="dd2">
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                 
                  </select>
                : <select name="mm2" id="mm2">
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                  </select> : 
                  <select name="yyyy2" id="yyyy2">
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                    <option value="2017">2017</option>
                  </select>
                <br><br>
                <input type="submit" name="generate">
            </form><br><br>
            <center>{%if data!=[] %}<table  class='table table-hover'>
                <thead>
                    <tr>
                        <th>date of checkup</th>
                        <th>Med prescirbed</th>
                        <th>Dr appointed</th>
                        <th>Appointment(done/miss)</th>
                        <th>Department</th>
                        
                    </tr>
                </thead>
                <tbody>
                    {% for row in data %}
                        <tr>
                            <td>{{ row[0] }}</td>
                            <td>{{ row[1] }}</td>
                            <td>{{ row[2] }}</td>
                            <td>{{ row[3] }}</td>
                            <td>{{ row[4] }}</td>
                            
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
          <h5>NO RECORD FOUND<h5>
            {% endif %}</center>
        </div> 
        <div class="appointment" id="appointment">

          <center>
            <h1 class="appointment">APPOINTMENT</h1>
            <form action="http://127.0.0.1:5000/patient/appointment/{{f_name}}+{{l_name}}" method="post" class="appointment">
              <table class="form" border="1">
                <tr>
                  <td>Department:</td>
                  <td>
                    <select id="department" name="department" onchange="change()" class="appointment" required>
                      <option value="none">Select Department</option>
                      <option value="Ent">ENT (Eyes Nose Tongue)</option>
                      <option value="opd">OPD (Out Patient)</option>
                      <option value="onco">Oncology</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td>Doctor:</td>
                  <td id="doctor-container">
                    <select id="doctor" name="doctor" class="appointment" required>
                      <option>Select department*</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td>Book the Date</td>
                  <td><input  type="date" id="date" pattern="\d{4}-\d{2}-\d{2}" placeholder="YYYY-MM-DD" name="appointment_date" onchange="check()" required>{{avail}}</td>
                </tr>
                <tr>
                  <td colspan="2"><center><input type="submit"></center></td>
                </tr>
              </table>
            </form>
          </center>

        </div>

    </div></center>
    
   
    
</body>
</html>